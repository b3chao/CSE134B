var config={apiKey:"AIzaSyBSqnmEYkvUCT084y_NPpJeL9-TofpOsq4",authDomain:"cse134b-all.firebaseapp.com",databaseURL:"https://cse134b-all.firebaseio.com",storageBucket:"",messagingSenderId:"295582276921"},logout=function(){firebase.auth().signOut().then(function(){window.location="./login.html"},function(a){})};firebase.initializeApp(config);var database=firebase.database(),ref=database.ref(),vm=new Vue({el:"#vue-app",data:{user:null,shopping_list:null},created:function(){var a=this;firebase.auth().onAuthStateChanged(function(b){if(b){a.user=b;var c=ref.child(a.user.uid);c.once("value",function(b){var c=b.val();null!=c&&null!=c.shopping_list&&(a.shopping_list=c.shopping_list)})}})},methods:{remove:function(a){var b=ref.child(this.user.uid+"/shopping_list/"+a);document.getElementById("ret_message").innerHTML="The meal has been removed from shopping list.",b.remove();var c=ref.child(this.user.uid+"/shopping_list/"),d=this;c.once("value",function(a){shopping_list=a.val(),d.shopping_list=shopping_list})},increment:function(a,b){var c=ref.child(this.user.uid+"/shopping_list/"),d=this;c.once("value",function(b){shopping_list=b.val(),shopping_list[a].count+=1,d.shopping_list=shopping_list,c.set(shopping_list)})},decrement:function(a,b){var c=ref.child(this.user.uid+"/shopping_list/"),d=this;c.once("value",function(b){shopping_list=b.val(),1==shopping_list[a].count?delete shopping_list[a]:shopping_list[a].count-=1,d.shopping_list=shopping_list,c.set(shopping_list)})}}});
