var config={apiKey:"AIzaSyBSqnmEYkvUCT084y_NPpJeL9-TofpOsq4",authDomain:"cse134b-all.firebaseapp.com",databaseURL:"https://cse134b-all.firebaseio.com",storageBucket:"",messagingSenderId:"295582276921"};firebase.initializeApp(config);var database=firebase.database(),ref=database.ref(),logout=function(){firebase.auth().signOut().then(function(){window.location="./login.html"},function(a){})},vm=new Vue({el:"#vue-app",data:{favorites:null,user:null,message:null},created:function(){var a=this;firebase.auth().onAuthStateChanged(function(b){if(b){a.user=b;var c=ref.child(a.user.uid);c.once("value",function(b){var c=b.val();a.favorites=c.favorites})}})},methods:{removeMeal:function(a,b){var c=ref.child(this.user.uid),d=this;c.once("value",function(b){var e=b.val();e.favorites.splice(a,1),c.set(e),d.favorites=e.favorites,document.getElementById("ret_message").innerHTML=d.favorites[a].label+" has been removed from favorite list."})},rankUp:function(a,b){if(0!=a){var c=ref.child(this.user.uid),d=this;c.once("value",function(b){var e=b.val(),f=e.favorites[a-1];e.favorites[a-1]=e.favorites[a],e.favorites[a]=f,c.set(e),d.favorites=e.favorites,document.getElementById("ret_message").innerHTML=d.favorites[a].label+" has been ranked up."})}},addIngredients:function(a){var b=ref.child(this.user.uid);b.once("value",function(c){var d=c.val(),e=d.favorites[a],f=e.ingredient_array,g=e.ingredients,h=e.label;d.shopping_list||(d.shopping_list=[]);var i=e.food_id;d.shopping_list[i]={},d.shopping_list[i].ingredient_array=f,d.shopping_list[i].ingredients=g,d.shopping_list[i].description=h,b.set(d),document.getElementById("ret_message").innerHTML=e.label+" has been added into shopping list."})}}});
